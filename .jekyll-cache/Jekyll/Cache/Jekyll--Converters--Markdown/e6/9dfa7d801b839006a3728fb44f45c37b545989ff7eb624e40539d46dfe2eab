I"	<p>语法和语言的一些细节是有深意的</p>

<p>有时是善意，有时是恶意</p>

<!--more-->

<h1 id="短路的逻辑运算符">短路的逻辑运算符</h1>

<p>当时学C的时候一直没弄明白逻辑运算符的短路有什么意义，这次在Python中终于了解到了。</p>

<p>曾经以为逻辑运算符的短路是用来出选择填空题的坑，直到看见这个例子才发现短路的真正意义。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="s">'a'</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<p>这是一个简单的循环，用while而不是for，因此很容易出现下标越界。</p>

<p>由于<code class="language-plaintext highlighter-rouge">and</code>运算符有短路（如果<code class="language-plaintext highlighter-rouge">a and b</code>中的a为假，可以不运行b），因此<code class="language-plaintext highlighter-rouge">data[len(data)]</code>这个越界情况不会出现。而如果交换两个条件，就会下标越界了。</p>

<h1 id="玄学的全局变量">玄学的全局变量</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># 2
# 5
# 7
# 8 注意这个8
</span></code></pre></div></div>

<p>Python一个比较糟糕的问题是标签只要出现过就一直存在</p>

<p>因此循环变量最好不要和其他变量用类似的名字，不然会有不知道从哪里来的数据</p>
:ET