---
title: Python语法妙处(3)
mathjax: false
date: 2019-08-14 10:25:31
tags: 
- Python
categories:
- 学习
- Python
- 基础功能
---

语法和语言的一些细节是有深意的

有时是善意，有时是恶意

<!--more-->

# 短路的逻辑运算符

当时学C的时候一直没弄明白逻辑运算符的短路有什么意义，这次在Python中终于了解到了。

曾经以为逻辑运算符的短路是用来出选择填空题的坑，直到看见这个例子才发现短路的真正意义。

```python
i = 0
while i<len(data) and data[i] != 'a':
    i += 1
```

这是一个简单的循环，用while而不是for，因此很容易出现下标越界。

由于`and`运算符有短路（如果`a and b`中的a为假，可以不运行b），因此`data[len(data)]`这个越界情况不会出现。而如果交换两个条件，就会下标越界了。



# 玄学的全局变量

```python
for i in [2, 5, 7]:
    print(i)
print(i+1)
# 2
# 5
# 7
# 8 注意这个8
```

Python一个比较糟糕的问题是标签只要出现过就一直存在

因此循环变量最好不要和其他变量用类似的名字，不然会有不知道从哪里来的数据